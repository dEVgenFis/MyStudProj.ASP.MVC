#!/bin/sh

# Исполняемый файл "/bin/rm" очищает актуальную ветку от результатов старых компиляций:
# Удаляет временные папки VS ("bin" и "obj")
# И временный файл настроек VS ("My_Stud_Proj.csproj.user")
# При этом возможные сообщения об ошибках отправляются "в никуда"
rm -rf bin obj *.user 2>/dev/null

# Если директория существует ("[ -d "My_Stud_Proj" ]")
# Если внутри папки не существует файла проекта ("[ ! -f "My_Stud_Proj/My_Stud_Proj.csproj" ]")
# Рекурсивно ("--recursive", с учетом всех вложений в папке)
# Принудительно ("--force", не запрашивая подтверждения на удаление и игнорируя несуществующие файлы)
[ -d "My_Stud_Proj" ] && [ ! -f "My_Stud_Proj/My_Stud_Proj.csproj" ] && rm -rf My_Stud_Proj

echo "Результаты предыдущих компиляций удалены."