// клиентские
let logIn = document.querySelector(".log-in"),
    logOut = document.querySelector(".log-out"),
    logOutAcceptButton = document.querySelector(".log-out-modal__accept-button"),
    logOutCancelButton = document.querySelector(".log-out-modal__cancel-button"),
    logOutModal = document.querySelector(".log-out-modal"),
    user,
    userFavoritesList = document.querySelector(".favorites-list"),
    userComparisonList = document.querySelector(".comparison-list"),
    userCart = document.querySelector(".cart"),
    userPageLink = document.querySelector(".user-page-link"),
    userPageLinkHelpInfo = document.querySelector(".user-page-link__help-info"),
    userInfoFrame = document.querySelector(".user-page__user-info"),
    userDetailsList,
    userDetailsChangeLink,
    userDetailsUpdateLink,
    userPasswordChangeModal = document.querySelector(".password-change-modal"),
    userOldPasswordInput = document.querySelector(".password-change-form__password-old-input"),
    userOldPasswordHelper = document.querySelector(".password-change-form__password-old-helper"),
    userNewPasswordInput = document.querySelector(".password-change-form__password-new-input"),
    userNewPasswordHelper = document.querySelector(".password-change-form__password-new-helper"),
    userPasswordCheckInput = document.querySelector(".password-change-form__password-check-input"),
    userPasswordCheckEmptyHelper = document.querySelector(".password-change-form__password-check-empty-helper"),
    userPasswordCheckCoherenceHelper = document.querySelector(".password-change-form__password-check-coherence-helper"),
    userPasswordChangeFormResetInput = document.querySelector(".password-change-form__reset-input"),
    userPasswordChangeAcceptButton = document.querySelector(".password-change-modal__accept-button"),
    userPasswordChangeCancelButton = document.querySelector(".password-change-modal__cancel-button"),
    userDeleteModal = document.querySelector(".user-delete-modal"),
    userDeletePasswordInput = document.querySelector(".user-delete-form__password-input"),
    userDeletePasswordHelper = document.querySelector(".user-delete-form__password-helper"),
    userDeleteFormResetInput = document.querySelector(".user-delete-form__reset-input"),
    userDeleteAcceptButton = document.querySelector(".user-delete-modal__accept-button"),
    userDeleteCancelButton = document.querySelector(".user-delete-modal__cancel-button"),
    userDeleteCloseButton = document.querySelector(".user-delete-modal__close-button"),
    userAppeal = document.querySelector(".notification__appeal"),
    personalFeedback,
    feedbackSelectedGrade,
    feedbackPersonalText;


// игровые
let gameContent = document.querySelector(".game"),
    gameHelperFrame = document.querySelector(".game__helper-frame"),
    gameQuestion = document.querySelector(".game__question"),
    gameHelperText,
    gameHelperLink,
    gameHelperCloseLink,
    gameAction = document.querySelector(".game__content-action"),
    gameClarifing = document.querySelector(".clarifing"),
    gameConclusion = document.querySelector(".conclusion"),
    gameDragCanvasConclusion = document.querySelector(".game__drag-canvas-conclusion"),
    gameButtons = document.querySelector(".game__buttons"),
    gameAnswerButton = document.querySelector(".game__buttons-answer"),
    stampButton = document.querySelector(".game__buttons-drag"),
    conclusionDragCanvasButton,
    gameDenialButton = document.querySelector(".game__buttons-denial"),
    clarifingButton,
    clarifingDenialButton,
    conclusionButton,
    continuationButton,
    resolutionWord = document.querySelectorAll(".resolution__word"),
    resolutionPen = document.querySelector(".resolution__pen"),
    gameButtonHelper = document.createElement("div"),
    dragFolder,
    dragTable,
    amountDragClicks,
    amountDragStamps = 0,
    canvasDraft,
    draftCtx,
    canvasImage,
    imageCtx,
    canvasBorderSize = 1,  // (px)
    canvasUserColorSelected,
    canvasLineCount,
    amountLineTargetIntersection = 0,
    draw = false,
    drawImageLineInterval,
    lineDirection,
    beginPoint = {},
    lastPoint = {},
    newPoint = {},
    linePointsList = [beginPoint, lastPoint],
    coordX = 0,
    coordY = 0,
    maxCoordDif = 0,
    amountSkewLineAddPoints = 0,
    amountSkewLineSegments = 0,
    coordXSkewLineStep = 0,
    coordYSkewLineStep = 0,
    canvasTargetsList,
    canvasTargetWidth,
    canvasTargetHeight,
    canvasTimerContent,
    canvasTimerFigure,
    canvasTimer,
    canvasTimerDigit,
    canvasTimerInterval,
    canvasTimerClipingList = ["timer__full-cliping",
                            "timer__right-top-eighth-cliping",
                            "timer__right-quarter-cliping",
                            "timer__right-bottom-eighth-cliping",
                            "timer__half-cliping",
                            "timer__left-bottom-eighth-cliping",
                            "timer__left-quarter-cliping",
                            "timer__left-top-eighth-cliping",
                            "timer__full-cliping"],
    canvasClipingIterator,
    canvasClipingInterval,
    conclusionTextWrapper,
    conclusionGameContinuation,
    randomNumber,
    randomGameKey,
    userGameAnswerWord,
    gameAttempts;


// общие
let HTMLbody = document.querySelector("body"),
    modalOverlay = document.querySelector(".modal-overlay"),
    amountModal = 0,
    authorRegFrame = document.querySelector(".author-reg-frame"),
    authorizationLink = document.querySelector(".authorization"),
    authorizationForm = document.querySelector(".authorization-form"),
    authorizationHelper = document.querySelector(".authorization-form__helper"),
    authorizationLoginInput = document.querySelector(".authorization-form__login-input"),
    authorizationLoginHelper = document.querySelector(".authorization-form__login-helper"),
    authorizationPasswordInput = document.querySelector(".authorization-form__password-input"),
    authorizationPasswordHelper = document.querySelector(".authorization-form__password-helper"),
    authorizationFormResetInput = document.querySelector(".authorization-form__reset-input"),
    authorizationButton = document.querySelector(".authorization-button"),
    registrationLink = document.querySelector(".registration"),
    registrationForm = document.querySelector(".registration-form"),
    registrationHelper = document.querySelector(".registration-form__helper"),
    registrationLoginInput = document.querySelector(".registration-form__login-input"),
    registrationLoginHelper = document.querySelector(".registration-form__login-helper"),
    registrationNameInput = document.querySelector(".registration-form__name-input"),
    registrationNameHelper = document.querySelector(".registration-form__name-helper"),
    registrationPasswordInput = document.querySelector(".registration-form__password-input"),
    registrationPasswordHelper = document.querySelector(".registration-form__password-helper"),
    registrationPasswordCheckInput = document.querySelector(".registration-form__password-check-input"),
    registrationPasswordCheckEmptyHelper = document.querySelector(".registration-form__password-check-empty-helper"),
    registrationPasswordCheckCoherenceHelper = document.querySelector(".registration-form__password-check-coherence-helper"),
    registrationFormResetInput = document.querySelector(".registration-form__reset-input"),
    registrationButton = document.querySelector(".registration-button"),
    actionsLine = document.querySelector(".author-reg-frame__actions-line"),
    authorRegFrameClosing = document.querySelector(".author-reg-frame__closing-link"),
    greeting = document.querySelector(".header__greeting"),
    iconsFrame = document.querySelector(".header__icons"),
    hamburger = document.querySelector(".hamburger"),
    logo = document.querySelector(".header__icons-logo"),
    sidebarArrow = document.querySelector(".sidebar-arrow"),
    navButtons = document.querySelector(".header__buttons"),
    sidebar = document.querySelector(".sidebar"),
    homePageLink = document.querySelector(".home-page-link"),
    mainContent = document.querySelector(".content__main"),
    homeContent = document.querySelector(".home-content"),
    topSection = document.querySelector(".home-content__top-section"),
    rightFrameContent = document.querySelector(".right-frame"),
    notificationContent = document.querySelector(".notification"),
    notificationView = document.querySelector(".notification__info-view"),
    notificationInfo = document.querySelector(".notification__info"),
    notificationHelperIcon = document.querySelector(".notification__help-icon"),
    notificationHelperText = document.querySelector(".notification__help-text"),
    notificationWelcome = document.querySelector(".notification__welcome"),
    notificationWelcomeMobile = document.querySelector(".notification__welcome-mobile"),
    notificationButton = document.querySelector(".notification__button"),
    notificationButtonMobile = document.querySelector(".notification__button-mobile"),
    sortDevListFrame = document.querySelector(".home-content__sorting-frame select"),
    catalog = document.querySelector(".home-content__catalog"),
    developerInfoButtons,
    devRatingGradeView,
    backPathButton,
    feedbackFrame,
    feedbackActionsFrame,
    feedbackSortingFrame,
    feedbackOverlay,
    feedbackList,
    feedbackListFrame,
    sortfeedbackListFrame,
    feedbackOpenButton,
    // заранее создаём HTML-элементы для привязки к ним событий
    feedbackCreateLink = document.createElement("div"),
    feedbackCreateFixLink = document.createElement("span"),
    feedbackUpdateButton = document.createElement("span"),
    feedbackDeleteButton = document.createElement("span"),
    ///
    feedbackListUpdate = false,
    feedbackCloseButton,
    footer = document.querySelector(".footer"),
    futureInfoModal = document.querySelector(".future-info-modal"),
    futureInfoButton = document.querySelector(".future-info-modal__button");

const controller = new AbortController(),
    signal = controller.signal;